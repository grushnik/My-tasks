<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Tasks</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="My Tasks">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%235b8bff'/><text x='50' y='62' font-size='64' text-anchor='middle' fill='white'>✓</text></svg>">
  <style>
    body{margin:0;background:#0f172a;color:#e5e7eb;font-family:system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;min-height:100svh;display:grid;place-items:center;}
    .app{width:min(720px,100%);padding:16px;}
    .card{background:#111827;border-radius:20px;padding:20px;}
    .new{display:flex;flex-direction:column;gap:10px;margin:12px 0 18px;}
    textarea{flex:1;padding:14px;border-radius:14px;background:#0b1025;color:#e5e7eb;border:1px solid rgba(255,255,255,.12);outline:none;font-size:1rem;min-height:60px;resize:vertical;}
    button{border:none;border-radius:14px;padding:12px 16px;color:white;cursor:pointer;font-weight:600;background:linear-gradient(135deg,#6366f1,#22d3ee);}    
    .columns{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
    @media(max-width:720px){.columns{grid-template-columns:1fr;}}
    .list{background:#1f2937;border-radius:16px;padding:12px;min-height:110px;}
    .list h2{margin:6px 6px 10px;font-size:1.05rem;color:#dbeafe;font-weight:700;}
    .item{display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;margin:6px;background:#0003;}
    .item.done .name{text-decoration:line-through;opacity:.6;}
    .name{flex:1;line-height:1.3;}    
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <h1>My Tasks</h1>
      <div class="new">
        <textarea id="input" placeholder="Add tasks (one per line)…"></textarea>
        <button id="add">Add</button>
      </div>
      <div class="columns">
        <section class="list">
          <h2>Active</h2>
          <div id="active"></div>
        </section>
        <section class="list">
          <h2>Done</h2>
          <div id="done"></div>
        </section>
      </div>
    </div>
  </div>

  <template id="row">
    <div class="item">
      <input type="checkbox" class="check">
      <div class="name" contenteditable="true"></div>
      <button class="delete">✕</button>
    </div>
  </template>

  <script>
    const $ = s=>document.querySelector(s);
    const tpl=$('#row');
    let tasks=[];
    function save(){localStorage.setItem('tasks',JSON.stringify(tasks));}
    function load(){tasks=JSON.parse(localStorage.getItem('tasks')||'[]');}
    function render(){
      $('#active').innerHTML='';$('#done').innerHTML='';
      for(const t of tasks){
        const node=tpl.content.firstElementChild.cloneNode(true);
        const name=node.querySelector('.name');
        const check=node.querySelector('.check');
        const del=node.querySelector('.delete');
        name.textContent=t.text;
        if(t.done){node.classList.add('done');check.checked=true;$('#done').append(node);}else{$('#active').append(node);}
        check.onchange=()=>{t.done=check.checked;save();render();};
        del.onclick=()=>{tasks=tasks.filter(x=>x!==t);save();render();};
        name.onblur=()=>{t.text=name.textContent.trim();save();};
      }
    }
    $('#add').onclick=()=>{
      const lines=$('#input').value.split(/\n/).map(l=>l.trim()).filter(l=>l);
      for(const line of lines){tasks.unshift({text:line,done:false});}
      $('#input').value='';save();render();
    };
    load();render();
  </script>
</body>
</html>

